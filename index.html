<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Crystal Collector | Drew Mercer</title>

    <!-- Link to the jQuery Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Link to Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
        crossorigin="anonymous">

</head>

<body>

    <div class="jumbotron">
        <h1 class="text-center">Crystal Collector</h1>
        <p class="text-center">You will be given a random number at the start of the game.<br>There are four crystals below. By clicking on a crystal,
            you will add a specific amount of points to your total score.<br>You win the game by matching your total score
            to the random number, you lose the game if your total score goes above the random number.<br>The value of each
            crystal is hidden from you until you click on it.<br>Each time when the game starts, the game will change the
            values of each crystal.</p>
    </div>

    <div class="container">

        <div class="row">

            <!-- Random Panel -->
            <div class="col-lg-3">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Number to guess</h3>
                    </div>

                    <div class="panel-body">
      <button id="random-button" class="btn btn-success btn-lg"><h1><span class="glyphicon glyphicon-question-sign"></span></h1></button>

                    </div>
                </div>
            </div>

            <!-- Result Panel -->
            <div class="col-lg-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Select Your Crystals</h3>
                    </div>
                    <div class="panel-body">
                        <img src="assets/images/blue-gem.png" alt="" class="img gem-pic" style="width: 22%">
                        <img src="assets/images/green-gem.png" alt="" class="img gem-pic" style="width: 22%">
                        <img src="assets/images/orange-gem.png" alt="" class="img gem-pic" style="width: 22%">
                        <img src="assets/images/purple-gem.png" alt="" class="img gem-pic" style="width: 22%">
                    </div>
                </div>
            </div>
        </div>

        <div class="row">

            <!-- Calculator Panel -->
            <div class="col-lg-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Total score this round</h3>
                    </div>

                    <div class="panel-body">

                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        $(document).ready(function () {

            // Variables
            var randomNumber;
            var crystalOneValue;
            var crystalTwoValue;
            var crystalThreeValue;
            var crystalFourValue;
            var winCounter;
            var lossCounter;
            var currentTally;







            var secondNumber = "";
            var operator = "";
            var result = 0;
            var hasNumber = false;
            var firstNumberComplete = false;
            var lockButtons = false;

            // Check if any button is clicked...
            $(document).on("click", "button", function () {

                // Checks if it's a number and that its not the end of the calculation ("!lockButtons")
                if ($(this).hasClass("number") && !lockButtons) {

                    // We'll then set our "hasNumber" variable to true to indicate that we can proceed in selecting an operator.
                    hasNumber = true;

                    // If we haven't received an operator yet...
                    if (firstNumberComplete === false) {

                        // Then grab the number of the value clicked and build a string with it
                        firstNumber += $(this).attr("value");

                        // Print the number to the firstPage
                        console.log(firstNumber);

                        // Print it to the div
                        $("#first-number").html(firstNumber);
                    }

                    // If we have received an operator already...
                    else {

                        // Grab the number of the value clicked and build a string with it
                        secondNumber += $(this).attr("value");

                        // Print the number to the firstPage
                        console.log(secondNumber);

                        // Print it to the div
                        $("#second-number").html(secondNumber);
                    }
                }

                // Checks if its an operator (but not "=")
                if ($(this).hasClass("operator") && hasNumber && !lockButtons) {
                    firstNumberComplete = true;

                    // Set the visual to show the operator's symbol
                    $("#operator").html("<h1>" + $(this).text() + "</h1>");
                    operator = $(this).attr("value");
                }

                // Checks if the equal button has been pressed. If so...
                if ($(this).hasClass("equal")) {

                    // Lock the keyboard from being clicked
                    lockButtons = true;

                    // Convert the numbers into integers
                    firstNumber = parseInt(firstNumber);
                    secondNumber = parseInt(secondNumber);

                    // Then figure out which operator was clicked and perform the necessary functions.
                    // Then show the result in the HTML
                    if (operator === "plus") {
                        result = firstNumber + secondNumber;
                    }

                    if (operator === "minus") {
                        result = firstNumber - secondNumber;
                    }

                    if (operator === "times") {
                        result = firstNumber * secondNumber;
                    }

                    if (operator === "divide") {
                        result = firstNumber / secondNumber;
                    }

                    if (operator === "power") {
                        result = Math.pow(firstNumber, secondNumber);
                    }

                    $("#result").html(result);
                }

                // If clear is selected then wipe away all of the content from the screen and unlock the buttons.
                if ($(this).hasClass("clear")) {

                    firstNumber = "";
                    secondNumber = "";
                    operator = "";
                    result = 0;
                    hasNumber = false;
                    firstNumberComplete = false;
                    lockButtons = false;

                    $("#first-number, #second-number, #operator, #result").empty();
                }
            });
        });
    </script>

</body>

</html>